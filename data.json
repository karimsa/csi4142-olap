[
	{
		"key": "query:11ad5a25-c929-41e0-856a-cda996ab820a",
		"value": "SELECT\n  'bar' as type,\n  category as x,\n  'Crime category' as x_label,\n  COUNT(*) / 1000 as y,\n  'Number of events (in thousands)' as y_label\nFROM\n  crimes\nGROUP BY\n  category"
	},
	{
		"key": "query-list",
		"value": [
			{
				"id": "e97da668-9e2d-434a-9ad2-0a4f5d1688f8",
				"name": "(Dice) Subset of a crime type on dates"
			},
			{
				"id": "aa0a68a7-f62a-48a1-ad83-cd7144ec8a96",
				"name": "(Dice) Subset of crime type of subset of a crime type"
			},
			{
				"id": "b9810023-d477-4b60-9e93-068de8b8118d",
				"name": "(Dice) Subset of crimes during Dec, Jan, Feb"
			},
			{
				"id": "29773c7b-0287-4d0e-8b69-ac1928e14ce7",
				"name": "(DrillDown) Total crimes by category of crime"
			},
			{
				"id": "053da5d1-275c-4934-a432-b3a331708add",
				"name": "(DrillDown) Total crimes by date"
			},
			{
				"id": "ce773e74-ef34-4216-8c49-403a58181b1a",
				"name": "(DrillDown) Total crimes by neighbourhood"
			},
			{
				"id": "f7434fe0-2a39-4717-8eac-6385091eb954",
				"name": "(DrillDown) Total crimes in a city in a year"
			},
			{
				"id": "2f452229-ece9-4653-a37e-e8c993df91ac",
				"name": "(Iceberg) Neighbourhoods in Denver with highest theft"
			},
			{
				"id": "6fa6c6fa-ffd6-4dc0-a190-c15dbaa7f1c2",
				"name": "(Iceberg) Neighbourhoods with most number of severe crimes"
			},
			{
				"id": "11ad5a25-c929-41e0-856a-cda996ab820a",
				"name": "(RollUp) Crime count by category"
			},
			{
				"id": "dd3acddb-b1b4-4e30-ae31-805083d45a4b",
				"name": "(RollUp) Crime count by month"
			},
			{
				"id": "67dad935-63e4-4b93-8ed6-e588e86b4650",
				"name": "(RollUp) Crimes by date"
			},
			{
				"id": "debe32fa-8976-47e6-84f4-f39a322cb51c",
				"name": "(Slice) Crime per city in March 2016"
			},
			{
				"id": "497b0608-088e-467d-b99a-8b8be9dca95a",
				"name": "(Slice) Crimes per neighbourhood in Denver"
			},
			{
				"id": "ce17a628-0e92-4b38-94f4-171e76e5c2dd",
				"name": "(Windowing) Average crime rate per neighbourhood"
			},
			{
				"id": "db771f77-707f-413f-a9c6-560fc71a92b6",
				"name": "(Windowing) Monthly crime rate by neighbourhood"
			}
		]
	},
	{
		"key": "query:dd3acddb-b1b4-4e30-ae31-805083d45a4b",
		"value": "SELECT\n  'bar' as type,\n  month AS x,\n  COUNT(*) / 1000 as y,\n  'Month (Jan = 0, Dec = 11)' as x_label,\n  '# of crimes (in thousands)' as y_label\nFROM\n  crimes,\n  dates\nWHERE\n  crimes.start_date_key = dates.key\nGROUP BY\n  month"
	},
	{
		"key": "query:67dad935-63e4-4b93-8ed6-e588e86b4650",
		"value": "SELECT\n  dates.year,\n  dates.month,\n  dates.day_of_the_month,\n  COUNT(*)\nFROM\n  crimes,\n  dates\nWHERE\n  crimes.start_date_key = dates.key\nGROUP BY\n  ROLLUP(dates.year, dates.month, dates.day_of_the_month)\nLIMIT\n  10"
	},
	{
		"key": "query:debe32fa-8976-47e6-84f4-f39a322cb51c",
		"value": "-- The 'GROUP BY' is added to visualize\n-- the slice\nSELECT\n  'pie' as type,\n  COUNT(*) as y,\n  '# of crimes' as y_label,\n  city as x,\n  'City' as x_label\nFROM\n  cross_join\nWHERE\n  month = { month | 2 }\n  AND year = { year | 2016 }\nGROUP BY\n  city"
	},
	{
		"key": "query:2f452229-ece9-4653-a37e-e8c993df91ac",
		"value": "SELECT\n  *\nFROM\n  (\n    SELECT\n      'bar' as type,\n      neighbourhood as x,\n      'Neighbourhood' as x_label,\n      COUNT(*) :: float / 1000 as y,\n      '# of crimes (in thousands)' as y_label\n    FROM\n      cross_join\n    WHERE\n      city = { city | Denver }\n      AND category = { category | Larceny }\n    GROUP BY\n      neighbourhood\n  ) AS r\nWHERE\n  r.y >= { count threshold | 0.8 }\nORDER BY\n  r.y DESC"
	},
	{
		"key": "query:db771f77-707f-413f-a9c6-560fc71a92b6",
		"value": "SELECT\n  'bar' as type,\n  AVG(count) as y,\n  neighbourhood as x,\n  'Neighbourhood' as x_label,\n  'Average monthly crime rate' as y_label\nFROM(\n    SELECT\n      COUNT(*),\n      month,\n      neighbourhood\n    FROM\n      cross_join\n    WHERE\n      neighbourhood != ''\n    GROUP BY\n      (neighbourhood, month)\n  ) AS r\nGROUP BY\n  neighbourhood"
	},
	{
		"key": "query:f7434fe0-2a39-4717-8eac-6385091eb954",
		"value": "SELECT\n  COUNT(*) AS num_crimes,\n  MIN(year) AS year,\n  MIN(city) AS city\nFROM\n  cross_join\nWHERE\n  year = { year | 2016 }\n  AND city = { city | Vancouver }"
	},
	{
		"key": "query:ce17a628-0e92-4b38-94f4-171e76e5c2dd",
		"value": "SELECT\n  COUNT(*) OVER (PARTITION BY neighbourhood) AS neighbourhood_crime_rate,\n  *\nFROM\n  cross_join\nWHERE\n  neighbourhood != ''\nLIMIT\n  10"
	},
	{
		"key": "query:6fa6c6fa-ffd6-4dc0-a190-c15dbaa7f1c2",
		"value": "SELECT\n  *\nFROM\n  (\n    SELECT\n      'bar' as type,\n      neighbourhood AS x,\n      COUNT(*) :: float / 1000 AS y,\n      '# of crimes (in thousands)' as y_label\n    FROM\n      cross_join\n    WHERE\n      severity > 10\n      AND neighbourhood != ''\n    GROUP BY\n      neighbourhood\n  ) AS r\nWHERE\n  r.y > { count threshold | 1.2 }\nORDER BY\n  r.y DESC"
	},
	{
		"key": "query:497b0608-088e-467d-b99a-8b8be9dca95a",
		"value": "-- Location dimension is sliced by city\nSELECT\n  'bar' as type,\n  neighbourhood as x,\n  'Neighbourhoods' as x_label,\n  COUNT(*) :: float / 1000 as y,\n  '# of crimes (in thousands)' as y_label\nFROM\n  cross_join\nWHERE\n  city = { city | Denver }\nGROUP by\n  neighbourhood"
	},
	{
		"key": "query:ce773e74-ef34-4216-8c49-403a58181b1a",
		"value": "SELECT\n  COUNT(*) AS num_crimes,\n  MIN(year) AS year,\n  MIN(city) AS city,\n  MIN(neighbourhood) as neighbourhood\nFROM\n  cross_join\nWHERE\n  year = { year | 2016 }\n  AND city = { city | Vancouver }\n  AND neighbourhood = { neighbourhood | marpole }"
	},
	{
		"key": "query:053da5d1-275c-4934-a432-b3a331708add",
		"value": "--select * from cross_join limit 10\n--11/6/2004/-21\nSELECT\n  COUNT(*) AS num_crimes,\n  MIN(year) AS year,\n  MIN(city) AS city,\n  MIN(reported_date_key) as date\nFROM\n  cross_join\nWHERE\n  year = { year | 2016 }\n  AND city = { city | Vancouver }\n  AND reported_date_key = { reported_date_key | 11 / 6 / 2004 / -21 }"
	},
	{
		"key": "query:29773c7b-0287-4d0e-8b69-ac1928e14ce7",
		"value": "SELECT\n  COUNT(*) AS num_crimes,\n  MIN(year) AS year,\n  MIN(city) AS city,\n  MIN(category) as category\nFROM\n  cross_join\nWHERE\n  year = { year | 2016 }\n  AND city = { city | Vancouver }\n  AND category = { category | Larceny }"
	},
	{
		"key": "query:b9810023-d477-4b60-9e93-068de8b8118d",
		"value": "SELECT\n  *,\n  type as type,\n  month AS month\nFROM\n  cross_join\nWHERE\n  month IN (12, 1, 2)\n  AND type ~* 'Burglary|theft'\nLIMIT\n  10 -- replace burglary and theft as any other subcrime type"
	},
	{
		"key": "query:aa0a68a7-f62a-48a1-ad83-cd7144ec8a96",
		"value": "SELECT\n  *,\n  category as category,\n  type as type,\n  month AS month\nFROM\n  cross_join\nWHERE\n  month IN (12, 1, 2)\n  AND type ~* 'theft-other| bldg'\n  AND category ~* 'Burglary|Larceny'\n  or is_traffic = false\nLIMIT\n  10 -- replace burglary and larceny as any other subcrime type"
	},
	{
		"key": "query:e97da668-9e2d-434a-9ad2-0a4f5d1688f8",
		"value": "SELECT\n  *,\n  category as category,\n  type as type,\n  month AS month\nFROM\n  cross_join\nWHERE\n  month IN (12, 1, 2)\n  AND type ~* 'theft-other|bldg'\n  AND category ~* 'Burglary|Larceny'\nLIMIT\n  10"
	}
]